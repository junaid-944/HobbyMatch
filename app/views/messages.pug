html
  head
    title Messages - HobbyMatch
    link(rel="stylesheet" href="/style.css")
  body
    nav.navbar
      .container-nav
        h1.logo ðŸŽ¯ HobbyMatch
        .nav-links
          a(href="/dashboard") Dashboard
          a(href="/logout") Logout
    
    .container
      .header-section
        h1 All Messages
        a.btn.btn-primary(href="/messages/add") âž• Send Message
      
      if message
        .alert.alert-success= message
      
      if messages.length > 0
        .table-wrapper
          table.data-table
            thead
              tr
                th From
                th To
                th Message
                th Sent At
                th Actions
            tbody
              each msg in messages
                tr
                  td= msg.sender
                  td= msg.receiver
                  td= msg.message_text.substring(0, 50) + (msg.message_text.length > 50 ? '...' : '')
                  td= new Date(msg.sent_at).toLocaleDateString()
                  td
                    .action-buttons
                      a.btn.btn-delete(href="/messages/delete/" + msg.message_id, onclick="return confirm('Delete this message?')") Delete
      else
        .no-data
          p No messages found.
          a(href="/messages/add") Send the first message
    
    include footer.pug
